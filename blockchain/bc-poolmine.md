## 矿池
- 矿池在2010年诞生

## 矿池模式工作流程
- pool程序接收miner程序的计算结果(shared)；pool程序判断miner计算结果是否符合难度值，符合则将其发送给sync程序；sync程序生成块并且广播。
1. sync程序负责同步广播块高。（挖矿可优化地方：同步与广播块高速度）
2. miner程序负责进行计算挖矿。（挖矿可优化地方：计算速度）
3. pool程序负责接收miner的计算结果。（挖矿可优化地方：pool和miner间的通讯机制等）

## 奖励分配方式
- 参考  https://en.bitcoin.it/wiki/Comparison_of_mining_pools

1. PPS： 矿池每隔一个固定的时间区间就向矿工发放一笔固定金额的收益(算力占比没有变化的情况下)。
2. FPPS： FPPS与PPS很类似，唯一不同的是，它不仅支付预期的出块奖励，还给与矿工预期的交易手续费。
3. PPLNS 矿池每实际爆块一次，矿工按照算力占比分配收益。
4. PPS+： 是PPS和PPLNS的混合体。出块奖励按PPS模型向矿工发放理论预期值。交易手续费则按照PPLNS方式向矿工分配矿池实际收到的交易手续费。


## 矿池协议

- Stratum https://braiins.com/stratum-v2

- BetterHash 


## 一般矿池协议会带来的问题，矿池可以拥有矿工所没有的权利
1. 确定哪些交易可被纳入区块，或者不执行这些交易。

2. 在适当的条件下被贿赂重组区块链。

3. 积压交易mempool，以提高交易费率。

4. 未经矿工同意直接使用算力挖取竞争分叉链。

5. 非诚实挖矿，这样做的动机应该是别有用心的。

6. 使用矿工的算力为某提案提供信号支持。