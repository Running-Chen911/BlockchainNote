# EVM
- 参考 https://ethereum.org/zh/developers/docs/


预言机（Oracle）是将以太坊连接到链外、真实世界信息的数据源，以便您可以在智能合约中查询数据。

## -
- 以太坊所状态存储结构采用MPT树。

- Gas Price
    - 用户进行一次交易，想支付的费用，以太坊默认的Gas Price是1wei。
- 用户设置Gas Limit
    - 交易过程中，如果实际消耗的Gas used > Gas Limit，这个交易就无法执行完成，就回滚到执行之前的状态，这个时候矿工会收取Gas Price*Gas Limit的费用。
- 矿工设置的Gas Limit
    - 区块中有一个Gas上限，收纳的交易会出现不同的用户指定的Gas Limit。那么矿工就会根据区块限制的Gas Limit来选择，“合理”选择打包交易。

- 外部账户的创建过程
    - 生成一个随机的64个十六进制字符组成的私钥
    - 使用私钥生成公钥
    - 帐户地址= 0x + 公钥的最后20字节

- 合约账户=42个字符组成的十六进制地址


## 交易
- 视频演示 https://youtu.be/er-0ihqFQB0

- 交易的数据格式
    ```json
    {
    "from": "0xEA674fdDe714fd979de3EdF0F56AA9716B898ec8",
    "to": "0xac03bb73b6a9e108530aff4df5077c2b3d481e5a",
    "gasLimit": "21000",
    "gasPrice": "200",
    "nonce": "0",
    "value": "10000000000",
    }
    ```
- 交易生命周期
    1. 一旦用户发送交易，加密算法生成交易哈希。
    2. 然后将该交易转播到网络，并且与大量其他交易一起包含在一个集合中。
    3. 矿工选择您的交易并将它包含在一个区块中，以便验证交易并认为它“成功”。矿工会总是优先处理 gasPrice 更高的交易。